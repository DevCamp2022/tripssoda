<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="com.devcamp.tripssoda.mapper.PartnerMapper">
    <insert id="insertPartner" parameterType="PartnerDto">
		INSERT INTO partner
        (
        user_id,
        reg_number,
        company_name,
        intro,
        intro_attachment,
        service_region,
        product_type,
        manager_name,
        manager_tel,
        terms_agreement,
        created_at,
        created_by,
        updated_at,
        updated_by
        )
        VALUES
        (
        #{userId},
        #{regNumber},
        #{companyName},
        #{intro},
        #{introAttachment},
        #{serviceRegion},
        #{productType},
        #{managerName},
        #{managerTel},
        #{termsAgreement},
        now(),
        #{userId},
        now(),
        #{userId}
        )
    </insert>

    <select id="searchSelectPartner" resultType="PartnerDto"   >
        select * from partner
    </select>

    <select id="selectOnPartner" resultType="PartnerDto">
        select * from partner
        where on_partnership = 1
    </select>

    <select id="selectOnApplicant" resultType="PartnerDto">
        select * from partner
        where on_partnership = 0
    </select>

    <update id="updateToPartner" parameterType="PartnerDto">
        UPDATE partner
        SET 'on_partnership' = 1
    </update>

    <select id="selectPartnerInfo" parameterType="int" resultType="PartnerDto">
        select * from partner
        where id = #{id}
    </select>

</mapper>